<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil del Agente | Vienes Agencia Inmobiliaria</title>
    <link rel="stylesheet" href="../style/perfil.css">
    <!-- Incluye Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
    <script>
      // Tu configuración de Firebase
      const firebaseConfig = {
            apiKey: "AIzaSyDqbufcbv5LZuPpyVciWLBIUGpQyt_LNEY",
            authDomain: "vienes-prueba.firebaseapp.com",
            databaseURL: "https://vienes-prueba-default-rtdb.firebaseio.com",
            projectId: "vienes-prueba",
            storageBucket: "vienes-prueba.appspot.com",
            messagingSenderId: "148968218617",
            appId: "1:148968218617:web:c99146c87f1b6d69d1a728"
            };


      // Inicializa Firebase
      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
    </script>
</head>
<body class="perfil-page">
    <header class="header" id="header">
        <div class="container header-container">
            <div class="logo">
                <a href="../index.html"><img src="../img/logo/logo-vienes.png" alt="Vienes Logo"></a>
            </div>
            <div class="nav-container">
                <nav class="nav">
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="../paginas/compras.html">Venta</a></li>
                        <li><a href="../paginas/alquiler.html">Alquilar</a></li>
                    </ul>
                </nav>
                <div class="profile">
                    <button id="logoutButton">Cerrar Sesión</button>
                </div>
            </div>
        </div>                                                                                                                                     
    </header>

    <section class="perfil">
        <div class="perfil-header">
            <img src="../img/departamentos/Astoria Tower Chicago Apartments for Rent - Chicago.jpg" alt="Fondo Perfil" class="perfil-background">
            <div class="perfil-info">
                <img src="../img/perfil/rtyuiop.jpg" alt="Agente" class="perfil-foto">
                <h2 id="userName">Rogger Salazar</h2>
                <p id="userEmail">rogger@vienes.com</p>
                <p id="userPhone">+51 987256148</p>
            </div>
        </div>
        <div class="container perfil-body">
            <div class="filtros">
                <h3>Filtros</h3>
                <label><input type="checkbox" checked> Metraje</label>
                <label><input type="checkbox"> Precio</label>
                <label><input type="checkbox" checked> Ubicación</label>
                <label><input type="checkbox"> Dormitorios</label>
                <label><input type="checkbox"> Baños</label>
                <label><input type="checkbox"> Vista</label>
            </div>
            <div class="propiedades">
                <h3>Propiedades</h3>
                <p>5 propiedades publicadas</p>
                <div class="cards">
                    <!-- Card 1 -->
                    <div class="card">
                        <img src="../img/departamentos/Azalea-living-room.jpg" alt="Propiedad 1">
                        <div class="card-content">
                            <p>S/. 800,000</p>
                            <p>Av. Malecon Cisneros 432- Miraflores<br>Miraflores- Lima</p>
                            <p>300 m2 - 4 dormitorios - 5 Baños - 3 cocheras</p>
                            <p>Se vende Duplex de estreno con vista al mar, cuenta con una vista panorámica, ascensor a puerta de departamento, Moderno y Equipado</p>
                        </div>
                    </div>
                    <!-- Card 2 -->
                    <div class="card">
                        <img src="../img/departamentos/sala-comedor-penthouse-01.png" alt="Propiedad 2">
                        <div class="card-content">
                            <p>S/. 750,000</p>
                            <p>Av. Larco 123 - Miraflores<br>Miraflores- Lima</p>
                            <p>250 m2 - 3 dormitorios - 4 Baños - 2 cocheras</p>
                            <p>Hermoso Penthouse con acabados de lujo, vista al mar y amplio espacio.</p>
                        </div>
                    </div>
                    <!-- Card 3 -->
                    <div class="card">
                        <img src="../img/departamentos/sala-comedor-tipico-02.png" alt="Propiedad 3">
                        <div class="card-content">
                            <p>S/. 680,000</p>
                            <p>Av. Pardo y Aliaga 890 - San Isidro<br>San Isidro - Lima</p>
                            <p>180 m2 - 3 dormitorios - 3 Baños - 2 cocheras</p>
                            <p>Moderno departamento en zona exclusiva, cerca a parques y centros comerciales.</p>
                        </div>
                    </div>
                    <!-- Card 4 -->
                    <div class="card">
                        <img src="../img/departamentos/descarga (2).jpeg" alt="Propiedad 4">
                        <div class="card-content">
                            <p>S/. 720,000</p>
                            <p>Av. Javier Prado 456 - San Borja<br>San Borja - Lima</p>
                            <p>200 m2 - 4 dormitorios - 4 Baños - 2 cocheras</p>
                            <p>Amplio departamento familiar en excelente ubicación, con todos los servicios cerca.</p>
                        </div>
                    </div>
                    <!-- Card 5 -->
                    <div class="card">
                        <img src="../img/departamentos/LUX-626x430.jpg" alt="Propiedad 5">
                        <div class="card-content">
                            <p>S/. 850,000</p>
                            <p>Av. Salaverry 789 - Jesús María<br>Jesús María - Lima</p>
                            <p>220 m2 - 4 dormitorios - 4 Baños - 3 cocheras</p>
                            <p>Exclusivo departamento con vista a la ciudad, cerca a centros comerciales y parques.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container footer-container">
            <div class="footer-logo">
                <a href="../index.html"><img src="../img/logo/Recurso 1Imagotipo1.png" alt="Vienes Logo"></a>
            </div>
            <div class="footer-nav">
                <a href="comprar.html">Comprar</a>
                <a href="alquilar.html">Alquilar</a>
                <a href="#">Términos y condiciones</a>
                <a href="#">Política de privacidad</a>
            </div>
        </div>
    </footer>

    <script>
      // Mostrar información del usuario
      auth.onAuthStateChanged((user) => {
        if (user) {
          document.getElementById('userName').textContent = user.displayName || "Usuario";
          document.getElementById('userEmail').textContent = user.email;
          document.getElementById('userPhone').textContent = user.phoneNumber || "+51 987256148";
        } else {
          window.location.href = 'login.html'; // Redirigir a login si no hay usuario
        }
      });

      // Cerrar sesión
      document.getElementById('logoutButton').addEventListener('click', () => {
        auth.signOut().then(() => {
          window.location.href = '../index.html';
        }).catch((error) => {
          console.error('Error al cerrar sesión', error);
        });
      });
    </script>
</body>
</html>
